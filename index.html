<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Hand – Palm + Continuous Finger Motion</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  svg {
    width: 340px;
    height: 340px;
  }

  .palm {
    fill: none;
    stroke: yellow;
    stroke-width: 6;
    stroke-linejoin: round;
  }

  .finger {
    stroke: yellow;
    stroke-width: 5;
    stroke-linecap: round;
  }
</style>
</head>

<body>

<svg viewBox="0 0 300 300">

  <!-- 手のひら（固定・面として認識される） -->
  <path
    d="
      M 100 220
      Q 150 260 200 220
      L 200 170
      Q 150 150 100 170
      Z
    "
    class="palm"
  />

  <!-- 指（5本：根元が手のひらに接続） -->
  <line id="f1" x1="110" y1="170" x2="110" y2="110" class="finger"/>
  <line id="f2" x1="130" y1="170" x2="130" y2="105" class="finger"/>
  <line id="f3" x1="150" y1="170" x2="150" y2="100" class="finger"/>
  <line id="f4" x1="170" y1="170" x2="170" y2="105" class="finger"/>
  <line id="f5" x1="190" y1="170" x2="190" y2="115" class="finger"/>

</svg>

<script>
/*
  指の角度だけを連続的に変える
  手のひらは「不動」
*/

const fingers = [
  { id: "f1", baseX: 110, baseY: 170, len: 60, open: -90, grip: -140 },
  { id: "f2", baseX: 130, baseY: 170, len: 65, open: -90, grip: -150 },
  { id: "f3", baseX: 150, baseY: 170, len: 70, open: -90, grip: -160 },
  { id: "f4", baseX: 170, baseY: 170, len: 65, open: -90, grip: -150 },
  { id: "f5", baseX: 190, baseY: 170, len: 55, open: -90, grip: -135 }
];

let t = 0;
let target = 0;
const speed = 0.04;

function deg2rad(d) {
  return d * Math.PI / 180;
}

function animate() {
  t += (target - t) * speed;

  fingers.forEach(f => {
    const angle = f.open + (f.grip - f.open) * t;
    const r = deg2rad(angle);

    const x2 = f.baseX + Math.cos(r) * f.len;
    const y2 = f.baseY + Math.sin(r) * f.len;

    const el = document.getElementById(f.id);
    el.setAttribute("x1", f.baseX);
    el.setAttribute("y1", f.baseY);
    el.setAttribute("x2", x2);
    el.setAttribute("y2", y2);
  });

  requestAnimationFrame(animate);
}

// デモ：3秒ごとに開閉
setInterval(() => {
  target = target === 0 ? 1 : 0;
}, 3000);

animate();
</script>

</body>
</html>
